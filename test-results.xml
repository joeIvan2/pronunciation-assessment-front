<testsuites id="" name="" tests="1" failures="0" skipped="0" errors="0" time="58.439337">
<testsuite name="url-login-test.js" timestamp="2025-07-03T15:16:32.772Z" hostname="Desktop Chrome" tests="1" failures="0" skipped="0" time="50.356" errors="0">
<testcase name="URL 登入測試 › 測試 URL 參數自動登入" classname="url-login-test.js" time="50.356">
<system-out>
<![CDATA[📋 測試檢查清單：
   ✅ URL 參數自動登入
   ✅ 我的最愛功能（新增/修改/刪除）
   ✅ 標籤功能（新增/修改/刪除）
   ✅ 分享功能
   ✅ AI 造句功能

🔑 開始測試 URL 參數自動登入...
🌐 導航到登入 URL: http://localhost:3000/?loginUser=test%40test.com&pwd=test0123
⏳ 等待登入處理...
📊 測試結果:
   - 登入狀態: ✅ 已登入
   - 當前 URL: http://localhost:3000/
✅ URL 登入成功！
💾 認證狀態已保存到 .auth/user.json
📊 認證統計：
  - Cookies: 2 個
  - LocalStorage: 1 個域名
⭐ 測試我的最愛功能...
📝 測試文字: "Hello world test 07/03 下午11:16:43"
   📝 新增我的最愛句子...
   ✅ 新增我的最愛句子完成
   📋 檢查我的最愛列表...
   📊 我的最愛列表項目數: 1
   ✏️ 測試編輯我的最愛...
   ✅ 編輯我的最愛完成
   🗑️ 測試刪除我的最愛...
   ✅ 刪除我的最愛完成
   ✅ 我的最愛功能測試完成
🏷️ 測試標籤功能...
   🏷️ 開始標籤功能測試...
   📂 切換到標籤管理頁面...
   ✅ 切換到標籤頁面
   ➕ 新增標籤...
   ✅ 輸入標籤名稱: 測試標籤_1751555807003
   ✅ 點擊新增標籤按鈕
   📋 檢查標籤列表...
   📊 標籤項目數: 1
   ✏️ 測試編輯標籤...
   ✅ 點擊編輯標籤按鈕
   ✅ 修改標籤名稱
   ✅ 更新標籤完成
   🗑️ 測試刪除標籤...
   ✅ 點擊刪除標籤按鈕
   ✅ 標籤功能測試完成
🔗 測試分享功能...
   🔗 開始分享功能測試...
   ✅ 新增測試句子完成
   📂 切換到分享與備份頁面...
   ✅ 切換到分享與備份頁面
   📤 測試分享功能...
   🔔 處理對話框: 數據正在載入中，請稍後再試
   ❌ 取消其他對話框
   ✅ 點擊分享按鈕
   ✅ 分享結果顯示
   📋 測試導出JSON功能...
   ✅ 點擊導出按鈕
   ✅ 分享功能測試完成
🤖 測試AI產出句子功能...
   🤖 開始AI產出句子功能測試...
   📂 切換到我的最愛標籤頁...
   ✅ 切換到我的最愛標籤頁
   📝 點擊句子按鈕...
   ✅ 點擊句子按鈕
   📊 記錄我的最愛初始數量...
   📋 我的最愛初始數量: 1
   🔍 切換到 AI 造句幫手標籤頁...
   ✅ 切換到 AI 造句幫手標籤頁
   💡 測試範例提示...
   📝 輸入AI生成指令...
   ✅ 輸入提示詞: "生成三個高中生應該會的英文句子"
   🚀 測試AI生成功能...
   ✅ 點擊AI生成按鈕
   ✅ AI回應顯示
   📸 生成AI回應頁面快照...
   ❌ AI產出句子功能測試失敗: [2mexpect([22m[31mpage[39m[2m).[22mtoHaveScreenshot[2m([22m[32mexpected[39m[2m)[22m

  517 pixels (ratio 0.01 of all image pixels) are different.

Expected: [33mC:\py\pronunciation\pronunciation-assessment-front\tests\url-login-test.js-snapshots\ai-response-page-Desktop-Chrome-win32.png[39m
Received: [33mC:\py\pronunciation\pronunciation-assessment-front\test-results\url-login-test.js-URL-登入測試-測試-URL-參數自動登入-Desktop-Chrome\ai-response-page-actual.png[39m
    Diff: [33mC:\py\pronunciation\pronunciation-assessment-front\test-results\url-login-test.js-URL-登入測試-測試-URL-參數自動登入-Desktop-Chrome\ai-response-page-diff.png[39m

Call log:
[2m  - Expect "toHaveScreenshot(ai-response-page.png)" with timeout 5000ms[22m
[2m    - verifying given screenshot expectation[22m
[2m  - taking page screenshot[22m
[2m    - disabled all CSS animations[22m
[2m  - waiting for fonts to load...[22m
[2m  - fonts loaded[22m
[2m  - 517 pixels (ratio 0.01 of all image pixels) are different.[22m
[2m  - waiting 100ms before taking screenshot[22m
[2m  - taking page screenshot[22m
[2m    - disabled all CSS animations[22m
[2m  - waiting for fonts to load...[22m
[2m  - fonts loaded[22m
[2m  - captured a stable screenshot[22m
[2m  - 517 pixels (ratio 0.01 of all image pixels) are different.[22m

📸 進行快照測試和比對...
📸 開始快照測試和比對流程...
🏠 切換回發音評分主頁面...
   ⚠️ 未找到發音評分頁面按鈕，嘗試其他方法...
🧹 完全清空所有數據以確保乾淨狀態...
   🧹 開始清空所有數據...
   📝 清空發音評分textarea...
   ✅ 發音評分textarea已清空
   🤖 清空AI造句幫手textarea...
   ⭐ 清空我的最愛數據...
   🗑️ 發現 4 個我的最愛項目，使用清空所有句子功能...
   📋 清空句子確認對話框: 確定要清空所有收藏句子嗎？此操作無法復原。
   ✅ 已確認清空操作
   📋 清空句子確認對話框: 已清空所有收藏！
   ✅ 我的最愛數據已清空（使用清空所有句子功能）
   🏷️ 清空標籤數據...
   🏷️ 開始清空標籤數據...
   ✅ 標籤數據已清空（刪除了 0 個標籤）
   ✅ 所有數據清空完成
📸 拍攝清空後的主頁面快照...
✅ 清空後的主頁面快照完成
📸 切換到我的最愛頁面並拍攝快照...
✅ 清空後的我的最愛頁面快照完成
🔍 進行快照比對驗證...
   ✅ 快照文件已生成，Playwright 將自動進行比對
   📋 如果快照有差異，測試將會失敗並顯示差異
   📁 快照文件位置: tests/url-login-test.js-snapshots/
✅ 快照測試和比對完成
🏁 URL 登入測試完成

[[ATTACHMENT|tests\url-login-test.js-snapshots\ai-response-page-Desktop-Chrome-win32.png]]

[[ATTACHMENT|test-results\url-login-test.js-URL-登入測試-測試-URL-參數自動登入-Desktop-Chrome\ai-response-page-actual.png]]

[[ATTACHMENT|test-results\url-login-test.js-URL-登入測試-測試-URL-參數自動登入-Desktop-Chrome\ai-response-page-diff.png]]
]]>
</system-out>
</testcase>
</testsuite>
</testsuites>